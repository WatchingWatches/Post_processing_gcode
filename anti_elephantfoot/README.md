# Anti elephant foot:
## What is an "elephant foot"?:
An Elephant foot is a common 3D printing problem, where the first few layers of a print appear flattened or widened, resembling an outward flaring or bulging at the base of a printed part.

Prusa slicer (and many more) have a setting called "Elephant foot compensation". The function of it gets explained [here](https://help.prusa3d.com/article/elephant-foot-compensation_114487):
"Instead of having to sand this slight edge off, this setting will scale/shrink the first layer". This works great for outer perimiters. However if the model has a internal outer perimiter, for example a hole inside,
this setting makes the elephant foot even worse than without this setting. If you have parts, which stick together with small tolerances the elephant foot gets important aside from the visual effect.
To provide a better solution for this problem i wrote this script.

## What does the script do?:
The script reduces the flow of the outer perimiter by a given factor(``flow_factor``). The lowered flow (factor < 1) leads to a slightly smaller width of the extruded line, thus reducing the elephant foot.
## How to set up:
To find a good ``flow_factor`` you will need to experiment with the value and print test pieces to do so. I would recommend small objects with a small z height.
I recommend turning off the "Elephant foot compensation" setting of the slicer. Before experimenting with this script make sure to dial in your flow and Z-offset/level your bed.

**This script works with prusa slicer.** It should be easy to adapt the script to work with gcode generated by other slicer.
Edit the variables at the beginning of the script, which indicate certain information about the gcode.
**Enable relative extrusion in your slicer!**

[Here is an guide to run the script directly from the slicer.](https://github.com/WatchingWatches/Post_processing_gcode) ``run_in_slicer = True`` enables this.
Otherwise you can run the script from an IDE with a given path to the gcode file.

If you have any problem regarding the script please open an issue.
